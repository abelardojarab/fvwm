# .fvwm/.fvwm2rc
SetEnv fvwm_wallpaper $[HOME]/workspace/emacsfull/Images/Wallpapers/debian_stream_clean.png
SetEnv fvwm_cache $[HOME]/.fvwm.cache
SetEnv fvwm_userdir $[HOME]/.fvwm
Setenv fvwm_colors $[$HOME]/.fvwm/images/icons/colors

# Pixmap
ImagePath $[HOME]/workspace/emacsfull/Images/Icons:$[HOME]/Images/Icons:/usr/share/icons/fvwm:/usr/share/icons/hicolor/16x16/apps:/usr/share/icons/HighContrast/scalable/apps-extra:/usr/share/icons/icons/hicolor/16x16/apps:/usr/share/icons/oxygen/16x16/apps:/usr/share/icons/oxygen/16x16/actions:/usr/share/icons/gnome/16x16/apps:/usr/share/icons/gnome/16x16/mimetypes:/usr/share/icons/oxygen/16x16/categories:/usr/share/icons/hicolor/scalable/apps:/usr/share/icons/HighContrast/16x16/apps:/usr/share/icons/locolor/16x16/apps:$[fvwm_userdir]/images/icons/battery:$[fvwm_userdir]/images/icons:$[fvwm_userdir]/images/bar:$[fvwm_userdir]/images/tiles:$[fvwm_userdir]/images/buttons:$[fvwm_userdir]/images/buttons;.png:$[fvwm_userdir]/images/icons:$[fvwm_userdir]/images/icons;.png:[fvwm_userdir]/images/mini:$[fvwm_userdir]/images/mini
IconPath  $[HOME]/workspace/emacsfull/Images/Icons:$[HOME]/Images/Icons:/usr/share/icons/fvwm:/usr/share/icons/hicolor/16x16/apps:/usr/share/icons/HighContrast/scalable/apps-extra:/usr/share/icons/icons/hicolor/16x16/apps:/usr/share/icons/oxygen/16x16/apps:/usr/share/icons/oxygen/16x16/actions:/usr/share/icons/gnome/16x16/apps:/usr/share/icons/gnome/16x16/mimetypes:/usr/share/icons/oxygen/16x16/categories:/usr/share/icons/hicolor/scalable/apps:/usr/share/icons/HighContrast/16x16/apps:/usr/share/icons/locolor/16x16/apps:$[fvwm_userdir]/images/icons/battery:$[fvwm_userdir]/images/icons:$[fvwm_userdir]/images/bar:$[fvwm_userdir]/images/tiles:$[fvwm_userdir]/images/buttons:$[fvwm_userdir]/images/buttons;.png:$[fvwm_userdir]/images/icons:$[fvwm_userdir]/images/icons;.png:[fvwm_userdir]/images/mini:$[fvwm_userdir]/images/mini

# Fonts
InfoStoreAdd font_sans "xft:Aquabase:size=10:encoding=iso10646-1"
InfoStoreAdd font_mono "xft:Roboto-Bold:size=10:encoding=iso10646-1"
DefaultFont "$[infostore.font_mono]"
WindowFont "$[infostore.font_mono]"

# Viewport and Virtual Desktop Setup
DeskTopSize 3x3
EdgeScroll 0 0
EdgeThickness 1
EdgeResistance 400
EwmhBaseStruts 128 20 0 20
OpaqueMoveSize -1
TitleStyle Height 13
ColormapFocus FollowsFocus

# Note: FvwmPager will be swallowed by FvwmButtons (below)
*FvwmPagerFont "$[infostore.font_mono]"
*FvwmPager: Colorset * 2
*FvwmPager: HilightColorset * 0
*FvwmPager: SolidSeparators
*FvwmPager: Balloons All
*FvwmPager: Label 0 "0: General"
*FvwmPager: Label 1 "1: Office"
*FvwmPager: Label 2 "2: CAD"
*FvwmPager: Label 3 "3: Other"

# Start function
AddToFunc StartFunction
+ I FvwmButtons
+ I FvwmTaskBar
# + I Test (Init) Exec exec fvwm-root --dither --retain-pixmap $[fvwm_wallpaper]
# + I FvwmAuto FvwmAutohide -menter FuncAutoEnter
# + I Test (Init) StartHiddenConsole

# Init function
DestroyFunc InitFunction
AddToFunc   InitFunction
+ I Exec exec xrdb ~/.Xresources
+ I Exec exec feh --bg-scale $[fvwm_wallpaper]
+ I Exec exec trayer --SetDockType true --distance 200 --padding 10 --transparent true --tint a6aaaa --alpha 50 --edge top --align right --expand true --widthtype percent --width 12 --heighttype pixel --height 24 --distancefrom right
+ I Exec exec /usr/lib/x86_64-linux-gnu/notify-osd
+ I Exec wicd-gtk --tray &
+ I Exec numlocx &
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then insync start; fi'
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then dropbox start; fi'
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then google-musicmanager; fi'
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then hp-systray; fi'
+ I GotoPage 0 0

# Absolutely clear, no tint
Colorset 0 fg lightgray, bg black, fgsh black, RootTransparent Buffer, Tint black 18

# Windows
Colorset 1 fg #c1c1c1, bg #2e2e2e, fgsh #292929, hi #8b8b8b, sh #171717

#WIndows, Inactive
Colorset 2 fg #c1c1c1, bg #525252, fgsh #292929, hi #8f8f8f, sh #454545

# Lighter for inactive window
Colorset 3 fg #001a19, bg #5b8c8a

# Menu
Colorset 4 fg #c1c1c1, bg #202020, fgsh black, hi #8b8b8b, sh #000000

# Panel
Colorset 5 fg #b7fffc, bg #001a19

# Panel Highlight
Colorset 6 fg #ffffff, bg #7d7d7d

# Menu Highlight
Colorset 7 fg white, bg #525252, fgsh #191919, hi #8f8f8f, sh #454545

Colorset 8 fg black, bg white, NoShape, RootTransparent Buffer, Tint #f6f6f6 60

# Normal Task
Colorset 9 fg #e3e3e3, fgsh #292929, TiledPixmap panel-in.png

# Workspace switcher
Colorset 11 pixmap workspace-bg.png

# Panel
Colorset 12 pixmap main-bg.png

# Panel
Colorset 13 fg white, bg #black, fgsh black, RootTransparent Buffer, Tint black 45

# Window Decor
DestroyDecor MyDecoration
AddToDecor   MyDecoration

+ ButtonStyle 1 ActiveUp Vector 4 30x30@3 60x60@3 60x30@4 30x60@3
+ ButtonStyle 1 ActiveDown Vector 4 30x30@3 60x60@3 60x30@4 30x60@3
+ ButtonStyle 1 Inactive Vector 4 30x30@3 60x60@3 60x30@4 30x60@3
+ ButtonStyle 4 ActiveUp Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 4 ActiveDown Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 4 Inactive Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 3 ActiveUp Vector 2 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 3 ActiveDown Vector 2 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 3 Inactive Vector 2 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 2 ActiveUp Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3
+ ButtonStyle 2 ActiveDown Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3
+ ButtonStyle 2 Inactive Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3

+ BorderStyle Active Colorset 1
+ BorderStyle Inactive Colorset 2
+ TitleStyle Centered
+ TitleStyle -- Raised
+ BorderStyle Simple
+ ButtonStyle All -- UseTitleStyle
+ BorderStyle Inactive -- HiddenHandles
+ BorderStyle Active

# Default styles
Style * Font "$[infostore.font_mono]"
Style * IconBox 700x84-220+12, IconFill right bottom
Style * SmartPlacement, MinOverlapPlacement
Style * NoPPosition, NoTransientPPosition
Style * GrabFocusOff, GrabFocusTransientOff
Style * SloppyFocus, ClickToFocusRaises, MouseFocusClickRaises
Style * ResizeOutline, ResizeOpaque
Style * HandleWidth 4, BorderWidth 4
Style * BackingStore, SaveUnder
Style * DecorateTransient, IconBox -132 110 -8 -8
Style * EWMHMiniIconOverride
Style * SnapAttraction 3
Style * WindowShadeSteps 20, WindowShadeScrolls
Style * UseDecor MyDecoration
Style * MWMBorder, FirmBorder

# Icon style
Style * StickyIcon
Style * IconTitleColorset 4
Style * HilightIconTitleColorset 4
Style * IconBackgroundColorset 4

# !Handles, !Borders, !Title
Style "wine"                  FPLenient, NoFuncHint, NoDecorHint, NoOLDecor
Style "conky"                 !Title, Sticky, WindowListSkip, StaysOnBottom, NeverFocus
Style "plank"                 !Title, !Handles, StaysOnTop, Sticky, NeverFocus, WindowListSkip
Style "gkrellm"               !Title, !Handles, StaysOnTop, Sticky, NeverFocus, WindowListSkip, FixedPosition
Style "trayer"                !Title, FixedPosition, StaysOnTop, Sticky
Style "chromium-browser"      !Title, FPLenient, NoFuncHint, NoDecorHint, NoOLecor, MiniIcon browser.png
Style "libreoffice*"          NoFuncHint
Style "gimp"                  MiniIcon gimp.png
Style "nautilus"              MiniIcon folder.png
Style "gnome-terminal"        MiniIcon terminal.png
Style "xterm"                 MiniIcon terminal.png
Style "xman"                  Icon xman.xpm, ClickToFocus
Style "xmag"                  Icon mag_glass.xpm, ClickToFocus
Style "xgraph"                Icon graphs.xpm, ClickToFocus
Style "xmosaic"               Color Green/Yellow, ClickToFocus

# Buttons
Style "FvwmButtons" WindowListSkip, NeverFocus, NoHandles, NoTitle, StaysOnTop, Sticky
Style "FvwmPager"   BorderWidth 2, HandleWidth 2, NeverFocus, NoHandles, NoTitle, StaysOnTop, Sticky
Style "FvwmTaskBar" NoTitle, WindowListSkip, CirculateSkip, Sticky, BorderWidth 0, NoHandles, StaysOnTop
Style "FvwmTaskBar" NeverFocus, Layer 0

# Set up the geometry so that the buttons stack vertically on the left.
*FvwmButtonsFont  "$[infostore.font_mono]"
*FvwmButtons: ButtonGeometry 100x50+0+0
*FvwmButtonsFore blick
*FvwmButtons: Colorset 7
*FvwmButtons: BoxSize fixed
*FvwmButtons: Rows 17
*FvwmButtons: Columns 1
*FvwmButtons: Frame 1
*FvwmButtons(1x2+0+0, Swallow "FvwmPager" 'FvwmPager *')
*FvwmButtons(Size 1x1, Swallow (NoKill, Respawn, UseOld) XClock 'Exec xclock -digital -twentyfour -fg black -bg gray -padding 1 -strftime "%H:%M %a %d %b %Y " &')
*FvwmButtons(Title Terminal, Icon gnome-terminal.png, Action 'Exec "Terminal" gnome-terminal &')
*FvwmButtons(Title Chrome, Icon browser.png, Action 'Exec "Google Chrome" chromium-browser &')
*FvwmButtons(Title VNC, Icon vnc.png, Action 'Exec "Remmina" remmina &')
*FvwmButtons(Title Emacs, Icon emacs.png, Action 'Exec "Emacs Server" emacs &')
*FvwmButtons(Title Umbrello, Icon umbrello.png, Action 'Exec "Umbrello" umbrello &')
*FvwmButtons(Title Zeal, Icon zeal.png, Action 'Exec "Zeal" zeal &')
*FvwmButtons(Title Devhelp, Icon devhelp.png, Action 'Exec "Devhelp" devhelp &')
*FvwmButtons(Title Gimp, Icon gimp.png, Action 'Exec "Gimp" gimp &')
*FvwmButtons(Title Inkscape, Icon inkscape.png, Action 'Exec "Inkscape" inkscape &')
*FvwmButtons(Title Writer, Icon x-office-document.png, Action 'Exec "Writer" libreoffice --writer &')
*FvwmButtons(Title Calc, Icon libreoffice-spreadsheet.png, Action 'Exec "Calc" libreoffice --calc &')
*FvwmButtons(Title Draw, Icon libreoffice-drawing.png, Action 'Exec "Impress" libreoffice --draw &')
*FvwmButtons(Title Transmission, Icon transmission.png, Action 'Exec "Transmission" transmission-gtk &')
*FvwmButtons(Size 1x1, Swallow (NoKill, Respawn, UseOld) XBiff 'Exec xbiff &')

# AutoHiding Console
Style HiddenConsole Sticky, WindowListSkip, Notitle, StaysOnTop, !Handles, FixedSize, FixedPosition
Style HiddenConsole WindowShadeSteps 100

# Menu Style
MenuStyle * PopupOffset 0 100, TitleWarpOff
MenuStyle * TitleUnderlines2, SeparatorsLong, TrianglesSolid
MenuStyle * BorderWidth 2
MenuStyle * PopupAsSubmenu, HoldSubmenus, SubmenusRight
MenuStyle * ItemFormat "%|%5.5i%1.3l%2.3>%|"
MenuStyle * VerticalItemSpacing 1 1, VerticalTitleSpacing 2 2
MenuStyle * MenuColorset 7
MenuStyle * ActiveColorset 8
MenuStyle * "$[infostore.font_mono]"
MenuStyle * MenuFace DGradient 64 Red Black

# Replace Mouse Button 0 with my main ("start button") menu.
Mouse 0 R N Menu MenuFvwmRoot

# FvwmIdent is an xwininfo replacement.
DestroyModuleConfig FvwmIdent: *
*FvwmIdent: Back MidnightBlue
*FvwmIdent: Fore #f6f6f6
*FvwmIdent: Font "xft:snap"

# FvwmScroll swallows applications into smaller containers.
DestroyModuleConfig FvwmScroll: *
*FvwmScroll: Back #f6f6f6
*FvwmScroll: Fore #f6f6f6

DestroyFunc Thumbnail
AddToFunc Thumbnail
+ I Raise
+ I SetEnv Icon-$[w.id] $[w.iconfile]
+ I ThisWindow (!Shaded Iconifiable !Iconic) PipeRead \
    "xwd -silent -id $[w.id] | convert -scale $$(($[w.width]/5)) -frame 1x1 \
    -mattecolor black -quality 0 xwd:- png:$[fvwm_cache]/icon.tmp.$[w.id].png \
    && echo Nop"
+ I TestRc (Match) Test (f $[fvwm_icon]/$[w.iconfile], f $[fvwm_cache]/icon.tmp.$[w.id].png) \
    PipeRead "composite -geometry +2+4 \
    $[fvwm_icon]/$[w.iconfile] $[fvwm_cache]/icon.tmp.$[w.id].png \
    $[fvwm_cache]/icon.tmp.$[w.id].png && \
    echo WindowStyle IconOverride, Icon $[fvwm_cache]/icon.tmp.$[w.id].png || echo Nop"
+ I TestRc (NoMatch) WindowStyle IconOverride, Icon $[fvwm_cache]/icon.tmp.$[w.id].png
+ I Iconify

DestroyFunc DeThumbnail
AddToFunc DeThumbnail
+ I PipeRead "echo Test \\(i \\$\\[Icon-$[w.id]\\]\\) WindowStyle Icon \\$\\[Icon-$[w.id]\\]"
+ I TestRc (NoMatch) WindowStyle NoIconOverride, Icon
+ I Exec rm -f $[fvwm_cache]/icon.tmp.$[w.id].png
+ I All (Iconic, CurrentPage) PlaceAgain icon
+ I UnsetEnv Icon-$[w.id]

# FvwmEvent
DestroyModuleConfig FvwmEvent: *
*FvwmEvent: deiconify DeThumbnail

DestroyFunc ReThumbnail
AddToFunc   ReThumbnail
+ I Iconify
+ I Thumbnail

# FvwmExpose
DestroyFunc FvwmExpose
AddToFunc FvwmExpose
+ I AddToMenu FvwmExposeMenu "e x p o s e" Title
+ I + DynamicPopDownAction DestroyMenu FvwmExposeMenu
+ I All (!Iconic !Shaded AcceptsFocus)\
    PipeRead "echo Raise; \
        xwd -silent -id $[w.id] | convert -scale $$(($[w.width]/10)) -quality 0 xwd:- \
        png:$[fvwm_cache]/tmp/icon.exp.$[w.id].png \
    && echo AddToMenu FvwmExposeMenu \
    %$[fvwm_cache]/tmp/icon.exp.$[w.id].png%\\\'\"$[w.name]\"\\\' WindowID $[w.id] WarpToWindow 50 50 \
        && echo AddToMenu FvwmExposeMenu \\\"\\\" Nop \
    || Nop"
+ I Popup FvwmExposeMenu
+ I Exec exec rm -f $[fvwm_cache]/tmp/icon.exp.*

# Screenshot Functions (uses ImageMagick)
DestroyFunc FvwmWindowScreenshot
AddToFunc   FvwmWindowScreenshot
+ I ThisWindow (!Shaded !Iconic Iconifiable) \
  Exec import -window $[w.id] -quality 100 -silent \
  "$[fvwm_cache]/screenshot/screenshot-`date +%F[%R]`.$[w.id].jpg"

DestroyFunc FvwmDesktopScreenshot
AddToFunc   FvwmDesktopScreenshot
+ I Exec sleep $0; import -window root -quality 100 -silent \
  "$[fvwm_cache]/screenshot/screenshot-`date +%F[%R]`.jpg"

# Autohide console example: [4]http://dev.gentoo.org/~taviso/autohide_console.png
DestroyFunc StartHiddenConsole
AddToFunc StartHiddenConsole
+ I Exec exec rxvt +sb -geometry 144x8+2+0 -name HiddenConsole
+ I Wait HiddenConsole
+ I Autohide HiddenConsole 250 0 N

# These functions modified from the functions provided in the fvwm FAQ.
AddToFunc Autohide
+ I ThisWindow ($0) Deschedule $[w.id]
+ I TestRc (!Match) Deschedule -$[w.id]
+ I ThisWindow ($0) ThisWindow (shaded) AutohideShow $1 $3
+ I TestRc (!Match) All ($0, !shaded) AutohideHide $2 $3

AddToFunc AutohideShow
+ I Schedule $0 -$[w.id] WindowShade $1 off
+ I Schedule $0 -$[w.id] Raise
+ I Schedule $0 -$[w.id] Deschedule $[w.id]
+ I Schedule $0 -$[w.id] Deschedule -$[w.id]

AddToFunc AutohideHide
+ I Schedule $0 $[w.id] WindowShade $1 on
+ I Schedule $0 $[w.id] Deschedule $[w.id]
+ I Schedule $0 $[w.id] Deschedule -$[w.id]

AddToFunc WindowListFunc I WarpToWindow 50 50
DestroyFunc FuncAutoEnter
AddToFunc FuncAutoEnter I Autohide HiddenConsole 250 500 N

# Window Operation Menu
DestroyMenu Window-Ops
AddToMenu Window-Ops "Window Operations" Title
+ "Move%menu/window-move.xpm%"  Move
+ "Resize%menu/window-resize.xpm%"  Resize
+ "(De)Iconify%menu/window-iconify.xpm%"  Iconify
+ "(Un)Maximize%menu/window-maximize.xpm%"  Maximize-func
+ "(Un)Shade%menu/window-shade.xpm%"  WindowShade
+ "(Un)Stick%menu/window-stick.xpm%"  Stick
+ "" Nop
+ "Close%menu/window-close.xpm%"  Close
+ "Delete%menu/window-delete.xpm%"  Delete
+ "Destroy%menu/window-destroy.xpm%"  Destroy
+ "" Nop
+ "StaysOnTop%menu/window-raise.xpm%"  Pick (CirculateHit) Layer 0 6
+ "Layer +1%menu/window-raise.xpm%"  Pick (CirculateHit) Layer +1
+ "StaysPut%menu/window.xpm%"  Pick (CirculateHit) Layer 0 4
+ "Layer -1%menu/window-lower.xpm%"  Pick (CirculateHit) Layer -1
+ "StaysOnBottom%menu/window-lower.xpm%"  Pick (CirculateHit) Layer 0 2
+ "" Nop
+ "%menu/window.xpm%Window Screenshot"  Pick (CirculateHit) FvwmWindowScreenshot
+ "%menu/display.xpm%Screenshot" FvwmDesktopScreenshot 5
+ "" Nop
+ "Identify%menu/window-identify.xpm%"  Module FvwmIdent

DestroyMenu MenuFvwmModules
AddToMenu MenuFvwmModules
+   "Animation          "   Module FvwmAnimate
+   "Button-Bar         "   Module FvwmButtons
+   "Identify           "   Module FvwmIdent
+   "IconMan            "   Module FvwmIconMan
+   "Banner             "   Module FvwmBanner
+   "Console            "   Module FvwmConsole -terminal rxvt
+   "Pager              "   Module FvwmPager 0 1
+   "Backer             "   Module FvwmBacker
+   "ScrollBar          "   Module FvwmScroll 50 50
+   "FvwmTaskBar        "   Module FvwmTaskBar
+   "AutoRaise          "   Module FvwmAuto 200 Raise Nop
+   "WinList            "   Module FvwmWinList
+   ""                      Nop
+   "Stop Module        "   Popup  MenuFvwmStopModule

DestroyMenu MenuFvwmStopModule
AddToMenu MenuFvwmStopModule
+   "Stop Button-Bar    "   KillModule FvwmButtons
+   "Stop IconMan       "   KillModule FvwmIconMan
+   "Stop Pager         "   KillModule FvwmPager
+   "Stop Backer        "   KillModule FvwmBacker
+   "Stop ScrollBar     "   KillModule FvwmScroll
+   "Stop FvwmTaskBar   "   KillModule FvwmTaskBar
+   "Stop AutoRaise     "   KillModule FvwmAuto
+   "Stop WinList       "   KillModule FvwmWinList

DestroyMenu MenuPageList
AddToMenu MenuPageList
+ "1"   Pick MoveToPage 0 0
+ "2"   Pick MoveToPage 1 0
+ "3"   Pick MoveToPage 2 0
+ "4"   Pick MoveToPage 0 1
+ "5"   Pick MoveToPage 1 1
+ "6"   Pick MoveToPage 2 1
+ "7"   Pick MoveToPage 0 2
+ "8"   Pick MoveToPage 1 2
+ "9"   Pick MoveToPage 2 2

DestroyFunc         TopHalfMix
AddToFunc           TopHalfMix
+ "I" Maximize          100 50

DestroyFunc                     LeftHalfMix
AddToFunc                       LeftHalfMix
+ "I" Maximize                  50 100

DestroyFunc         FullScreen
AddToFunc           FullScreen
+ "I" Maximize          100 100

# Key bindings using Alt + Fn
Key F1   A   M   Menu MenuFvwmRoot Nop
Key F2   A   M   Menu Window-Ops Nop
Key F3   A   M   WindowList
Key F4   A   M   Move
Key F10  A   M   Maximize-func

# Valid Contexts...combinations of:
# R=root window
# W=application window
# T=titlebar
# S=side, top, or bottom bar
# F=frame (corners)
# I=icon window
#
# Valid Modifiers...any combination of:
# N=no modifiers
# C=control
# S=shift
# M=meta
# L=caps lock
# A=any modifier

# windows close,max,mini
Mouse 0 4   A       Iconify
Mouse 0 2   A       Maximize-func
Mouse 0 1   A       Close
Mouse 0 3   A       Menu Window-Ops Nop
Mouse 1 4   A       Iconify
Mouse 1 2   A       Maximize-func
Mouse 1 1   A       Close
Mouse 1 3   A       Menu Window-Ops Nop

# main pop-up menus
Mouse 0 R       A       Menu MenuFvwmRoot Nop
Mouse 1 R       A       Menu MenuFvwmRoot Nop
Mouse 2 R       A       Menu MenuFvwmRoot Nop
Mouse 3 R       A       Menu MenuFvwmRoot Nop

# for when you click the edge of a window
Mouse 1 F   A   Resize-or-Raise
Mouse 1 T   A   Move-or-Raise
Mouse 1 I   A   Move-or-Iconify
Mouse 2 I   A   Iconify
Mouse 2 T   A   Menu Window-Ops Nop

# raise or lower window with mousebutton3
Mouse 2 SF   A   Move-or-Raise
Mouse 3 SF   A   Move-or-Raise

DestroyFunc Move-or-Raise
AddToFunc Move-or-Raise     "I" Raise
+ D Maximize-func
+ C Raise
+ C Focus
+ M Move

DestroyFunc Move-or-Iconify
AddToFunc Move-or-Iconify   "I" Raise
+ D Maximize-func
+ M Move
+ C Iconify

DestroyFunc Resize-or-Raise
AddToFunc Resize-or-Raise   "I" Raise
+ D Maximize-func
+ C Raise
+ C Focus
+ M Resize

DestroyFunc Maximize-func
AddToFunc Maximize-func     "M" Maximize   0   100
+ I ThisWindow (!Maximized) Maximize 99 -15p ewmhiwa true 100 100
+ I ThisWindow (Maximized) DestroyWindowStyle
+ I TestRc (NoMatch) WindowStyle, ResizeHintOverride, FixedPosition, FixedSize
+ I TestRc (NoMatch) Raise
+ I TestRc (NoMatch) UpdateStyles
+ I TestRc (NoMatch) Maximize 99 -15p ewmhiwa true 100 100

DestroyFunc FullscreenWithOffset
AddToFunc   FullscreenWithOffset
+ I ThisWindow (!Maximized, !State 1) MaximizeWithFS 99 -20p ewmhiwa
+ I TestRc (NoMatch) ThisWindow (Maximized, State 1) UnMaximizeWithFS

DestroyFunc MaximizeWithFS
AddToFunc   MaximizeWithFS
+ I WindowStyle !Borders, !Handles, BorderWidth 0, HandleWidth 0, !Title, ResizeHintOverride
+ I UpdateStyles
+ I State 1 on
+ I Maximize $*

DestroyFunc UnMaximizeWithFS
AddToFunc   UnMaximizeWithFS
+ I Maximize
+ I State 1 off
+ I DestroyWindowStyle
+ I UpdateStyles

DestroyFunc WheelScroll
AddToFunc WheelScroll I PipeRead 'case $0 in \
      up) test $[page.ny] -eq $$(($[desk.pagesy]-1)) -a $[page.nx] -lt $$(($[desk.pagesx]-1)) \
         && echo GotoPage +1p 0 \
         || echo GotoPage 0p +1p;; \
      down) test $[page.ny] -eq 0 -a $[page.nx] -gt 0 \
         && echo GotoPage -1p $$(($[desk.pagesy]-1)) \
         || echo GotoPage 0p -1p;; \
   esac'

DestroyFunc ShowDesktop
AddToFunc ShowDesktop
+  I All (AcceptsFocus CurrentPage !Iconic !Shaded !ButtonDocks) Iconify

DestroyModuleConfig FvwmTaskBar: *
*FvwmTaskBar: Geometry +0-0
*FvwmTaskBar: Rows 1
*FvwmTaskBar: AutoStick
*FvwmTaskBar: UseSkipList
*FvwmTaskBar: PageOnly
*FvwmTaskBar: ShowTips
*FvwmTaskBar: NoBrightFocus
*FvwmTaskBar: 3DFvwm
*FvwmTaskBar: MailCheck 0
*FvwmTaskBar: ClockFormat %T [%d/%m/%y]
*FvwmTaskBar: WindowButtonsRightMargin 124
*FvwmTaskBar: Font "$[infostore.font_mono]"
*FvwmTaskBar: SelFont "$[infostore.font_mono]"
*FvwmTaskBar: StatusFont "$[infostore.font_mono]"
*FvwmTaskBar: TipsBack bisque
*FvwmTaskBar: TipsFore black
*FvwmTaskBar: Colorset 7
*FvwmTaskBar: FocusColorset 6
*FvwmTaskBar: UseIconNames
*FvwmTaskBar: StartName Start
*FvwmTaskBar: StartMenu MenuFvwmRoot mouse c -100m -60p

# Key Bindings: ctrl-arrow shifts viewports, alt-arrow shifts desktops
Key Left  A C GotoPage -1p +0p
Key Right A C GotoPage +1p +0p
Key Up    A C GotoPage +0p -1p
Key Down  A C GotoPage +0p +1p
Key Left  A M GotoDesk -1 0 3
Key Right A M GotoDesk 1 0 3

# Save Alt-tab for emacs
Key Tab A M -

# Popup WindowList with the Windows "menu" key.
Key F15 A A  PickWindow

# Circulate through windows with left and right "window" keys.
Key F13  A A  Prev (CurrentPage !Sticky !Shaded !Iconic) RaiseAndFocus
Key F14  A A  Next (CurrentPage !Sticky !Shaded !Iconic) RaiseAndFocus

# Switch pages via keypad (no modifier)
Key KP_Home  A N  GotoPageFocus  0 0
Key KP_Up    A N  GotoPageFocus  1 0
Key KP_Prior A N  GotoPageFocus  2 0
Key KP_Left  A N  GotoPageFocus  0 1
Key KP_Begin A N  GotoPageFocus  1 1
Key KP_Right A N  GotoPageFocus  2 1
Key KP_End   A N  GotoPageFocus  0 2
Key KP_Down  A N  GotoPageFocus  1 2
Key KP_Next  A N  GotoPageFocus  2 2

# Move windows to strategic points on the current page via shift-keypad
Key KP_Home  A S  Move   0     0
Key KP_End   A S  Move   0    -0
Key KP_Prior A S  Move  -0     0
Key KP_Next  A S  Move  -0    -0
Key KP_Up    A S  Move 136p    0
Key KP_Down  A S  Move 136p   -0
Key KP_Left  A S  Move 136p   keep
Key KP_Right A S  Move  -0    keep
Key KP_Begin A S  PipeRead 'fvwm_center_window $[vp.width] $[vp.height] $[w.width] $[w.height]'

# Move a window to a different page via alt-keypad
Key KP_Home  A M  MoveToPage  0 0
Key KP_Up    A M  MoveToPage  1 0
Key KP_Prior A M  MoveToPage  2 0
Key KP_Left  A M  MoveToPage  0 1
Key KP_Begin A M  MoveToPage  1 1
Key KP_Right A M  MoveToPage  2 1
Key KP_End   A M  MoveToPage  0 2
Key KP_Down  A M  MoveToPage  1 2
Key KP_Next  A M  MoveToPage  2 2

# Move a window and follow it via ctrl-keypad
Key KP_Home  A C  MoveAndGotoPage  0 0
Key KP_Up    A C  MoveAndGotoPage  1 0
Key KP_Prior A C  MoveAndGotoPage  2 0
Key KP_Left  A C  MoveAndGotoPage  0 1
Key KP_Begin A C  MoveAndGotoPage  1 1
Key KP_Right A C  MoveAndGotoPage  2 1
Key KP_End   A C  MoveAndGotoPage  0 2
Key KP_Down  A C  MoveAndGotoPage  1 2
Key KP_Next  A C  MoveAndGotoPage  2 2

# Icon Manager
DestroyModuleConfig FvwmIconMan
*FvwmIconMan: NumManagers 1
*FvwmIconMan: Colorset 40
*FvwmIconMan: DrawIcons false
*FvwmIconMan: FocusAndSelectButton flat
*FvwmIconMan: FocusAndSelectColorset 40
*FvwmIconMan: FocusButton flat
*FvwmIconMan: FocusColorset 40
*FvwmIconMan: Font "$[infostore.font_mono]"
*FvwmIconMan: Format %t
*FvwmIconMan: IconButton flat
*FvwmIconMan: IconColorset 40
*FvwmIconMan: ManagerGeometry 1x20
*FvwmIconMan: PlainButton flat
*FvwmIconMan: PlainColorset 40
*FvwmIconMan: Resolution page
*FvwmIconMan: SelectButton flat
*FvwmIconMan: SelectColorset 40
*FvwmIconMan: Sort id
*FvwmIconMan: UseWinList true
*FvwmIconMan: Tips false
*FvwmIconMan: ReliefThickness 0
*FvwmIconMan: Title ""
*FvwmIconMan: Action   Mouse   1  N sendcommand Raise
*FvwmIconMan: Action   Mouse   2  N sendcommand 'WindowShade toggle'
*FvwmIconMan: Action   Mouse   3  N sendcommand Iconify
*FvwmIconMan: ButtonGeometry 150x20
*FvwmIconMan: MaxButtonWidth 300

Read Menu

#  Similar focus behavior to xfce/openbox.
Style * ClickToFocus
Style * RaiseTransient
Style * LowerTransient
Style * StackTransientParent
Style * EWMHUseStackingOrderHints
Style * FPSortWindowlistByFocus
Style * FPEnterToFocus
Style * FPAllowRaiseClickFunction
Style * FPClickRaisesFocused

# The following settings are interpreted by EMACS, do not remove them.
# Local Variables:
# mode: shell-script
# fill-column: 80
# coding: utf-8
# End:
